<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nightmare Escape 噩夢逃亡</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="manifest" href="manifest.json">
</head>
<body>
  <div id="app">
    <header>
      <h1 data-i18n="game.title">噩夢逃亡</h1>
      <p data-i18n="game.subtitle">奔向光明，逃離黑暗！</p>
      <div class="lang-switcher">
        <button data-lang="zh-TW">繁中</button>
        <button data-lang="zh-CN">简中</button>
        <button data-lang="en">EN</button>
        <button data-lang="ja">日本語</button>
        <button data-lang="ko">한국어</button>
      </div>
    </header>

    <main class="game-container">
      <div class="canvas-container">
        <canvas id="game-canvas"></canvas>
      </div>

      <div class="stats-panel">
        <div class="stat-row">
          <span>❤️</span>
          <span data-i18n="game.health">生命</span>
          <div class="bar-container">
            <div id="health-bar" class="bar health" style="width: 100%"></div>
          </div>
        </div>
        <div class="stat-row">
          <span>⚡</span>
          <span data-i18n="game.stamina">體力</span>
          <div class="bar-container">
            <div id="stamina-bar" class="bar stamina" style="width: 100%"></div>
          </div>
        </div>
        <div class="stat-row">
          <span>💡</span>
          <span data-i18n="game.light">光明</span>
          <div class="bar-container">
            <div id="light-bar" class="bar light" style="width: 0%"></div>
          </div>
        </div>
      </div>

      <div class="info-panel">
        <div class="info-item">
          <span data-i18n="game.distance">距離</span>
          <span id="distance" class="value">0 / 1000</span>
        </div>
        <div class="info-item">
          <span data-i18n="game.speed">速度</span>
          <span id="speed" class="value">0</span>
        </div>
        <div class="info-item">
          <span data-i18n="game.chaser">追逐者</span>
          <span id="chaser-distance" class="value danger-text">150m</span>
        </div>
      </div>

      <div class="controls-panel">
        <button id="jump-btn" class="control-btn" data-i18n="game.jump">跳躍</button>
        <button id="sprint-btn" class="control-btn sprint" data-i18n="game.sprint">衝刺</button>
        <button id="light-btn" class="control-btn light" data-i18n="game.useLight">使用光明</button>
      </div>

      <div class="controls-hint">
        <p data-i18n="game.controlsInfo">空白鍵：跳躍 | Shift：衝刺 | L：使用光明</p>
      </div>

      <p id="status-msg" class="status-msg"></p>

      <div class="score-display">
        <span data-i18n="game.distance">距離</span>: <span id="final-score">0m</span>
      </div>

      <button id="start-btn" class="btn" data-i18n="game.start">開始逃亡</button>
    </main>

    <footer>
      <p>Game #404 | <a href="../../index.html">Back to Games</a></p>
    </footer>
  </div>
  <script type="module" src="main.ts"></script>
</body>
</html>
